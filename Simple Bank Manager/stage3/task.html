
<h2>Description</h2>

<p>
    It is time to start implementing some of the main features of our Bank application.
    On this stage we will implement viewing account balance and making transfers.
    After successful login, user should be able to go to Transfer funds screen and transfer money to account,
    and check current balance at the View Balance screen.
</p>

<br>

<h2>Objectives</h2>

<ol>
    <li>
        Test may pass the user balance as a <code>Double</code> to <code>MainActivity</code>
        through <code>intent.extras</code>.
        Retrieve that balance, using the key <code>"balance"</code>.
        In case no balance is passed use <code>100.0</code> as default value for balance;
    </li>

    <li>
        Add a Fragment named <code>ViewBalanceFragment</code> to the navigation graph;
        <ul>
            <li>
                Add an <code>TextView</code> to <code>ViewBalanceFragment</code> with
                <code>id</code> <code>viewBalanceLabelTextView</code>,
                the text should be <code>"Balance:"</code>;
            </li>
            <li>
                Add an <code>TextView</code> to <code>ViewBalanceFragment</code> with
                <code>id</code> <code>viewBalanceAmountTextView</code>.
                This view will be used to show account balance;
            </li>
            <li>
                On the design tab of <code>nav_graph</code> make a connection from <code>UserMenuFragment</code>
                to <code>ViewBalanceFragment</code>.
                The code generated after making the connection should contain an action with id
                <code>action_userMenuFragment_to_viewBalanceFragment</code> and destination
                <code>viewBalanceFragment</code>;
            </li>

            <li>
                After click on <code>userMenuViewBalanceButton</code> display <code>ViewBalanceFragment</code>.
                Display on <code>viewBalanceAmountTextView</code> text the current balance state.
                The balance should be displayed always with two decimal places and a $ at the end. (ex: "100,00$");
            </li>
            <li>
                While at <code>ViewBalanceFragment</code> clicking on back button should redirect users back to
                <code>UserMenuFragment</code>;
            </li>
        </ul>
    </li>



    <li>
        Add a Fragment named <code>TransferFundsFragment</code> to the navigation graph;
        <ul>
            <li>
                On the design tab of <code>nav_graph</code> make a connection from <code>UserMenuFragment</code>
                to <code>TransferFundsFragment</code>. Code generated after making connection should have action with id
                <code>action_userMenuFragment_to_transferFundsFragment</code> and destination id <code>transferFundsFragment</code>
            </li>
            <li>
                Add an <code>EditText</code> to <code>TransferFundsFragment</code> with
                <code>id</code> <code>transferFundsAccountEditText</code>.
                This view will be used to input the account to transfer funds to;
            </li>
            <li>
                Add an <code>EditText</code> to <code>TransferFundsFragment</code> with
                <code>id</code> <code>transferFundsAmountEditText</code>.
                This view will be used to input the amount of funds to transfer;
            </li>
            <li>
                Add an <code>Button</code> to <code>TransferFundsFragment</code> with
                <code>id</code> <code>transferFundsButton</code>.
                On click, first validate the input
                <ul>
                    <li>
                        Consider valid accounts only those that start with either "sa" or "ca"
                        followed with exactly four digits. "sa" standing for `savings account` and
                        "ca" for `checking account`
                    </li>
                    <li>
                        If the account input is not valid set the <code>error</code> property of
                        <code>transferFundsAccountEditText</code> to <code>"Invalid account number"</code>
                    </li>
                    <li>
                        Consider valid amount a number greater than zero
                    </li>
                    <li>
                        If the amount is not valid set the <code>error</code> property of
                        <code>transferFundsAmountEditText</code> to <code>"Invalid amount"</code>
                    </li>
                    <li>
                        If both inputs are not valid set the error property for both EditTexts
                    </li>
                </ul>
                If both inputs are valid then try to make the transfer
                <ul>
                    <li>
                        If the amount on <code>transferFundsAmountEditText</code> is greater than
                        the current balance show a toast message "Not enough funds to transfer &lt;amount&gt;$"
                        where amount is the amount on <code>transferFundsAmountEditText</code>
                        formatted always with two decimals.
                        Keep the current balance state and remain on <code>TransferFundsFragment</code>
                    </li>
                    <li>
                        If the amount on <code>transferFundsAmountEditText</code> is less or equal than
                        the current balance show a toast message "Transferred &lt;amount&gt;$ to account &lt;account&gt;"
                        where amount is the amount on <code>transferFundsAmountEditText</code>
                        formatted always with two decimals, and account is the account on
                        <code>transferFundsAccountEditText</code>.
                        Debt the current balance with the given amount
                        and automatically go back to <code>UserMenuFragment</code>;
                    </li>
                    <li>
                        For simplification purposes there is no need to credit any account.
                        An actual application would have a backend managing account state and the app
                        would just make network requests with transfer data without the need to manage
                        the state itself, so this simplification makes sense
                    </li>
                </ul>
            </li>
            <li>
                While at <code>TransferFundsFragment</code> clicking on back button should redirect users back to
                <code>UserMenuFragment</code>;
            </li>
        </ul>
    </li>
</ol>

<h2>Example</h2>

<br>

<img height="600" width="340"
     name="simpleBankManager_stage3a.gif"
     alt="Implemented features"
     src="https://ucarecdn.com/50061f14-33ba-47fe-a30b-7473a0648b26/" >

<br>
<br>
<br>

<img height="600" width="340"
     name="simpleBankManager_stage3b.gif"
     alt="Successful transfer"
     src="https://ucarecdn.com/a32402c1-b350-41a0-a955-bdffd15fe0b1/" >

<br>
<br>
<br>

<img height="600" width="340"
     name="simpleBankManager_stage3c.gif"
     alt="Transfer errors"
     src="https://ucarecdn.com/9cb7f3f4-e03e-4539-8735-0c2aa42d3e9b/" >

